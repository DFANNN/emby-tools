# Emby 剧集关注功能需求文档

## 项目概述

### 项目名称

Emby 剧集关注管理功能

### 项目目标

为用户提供基于 Emby 媒体库的剧集关注管理功能，帮助用户追踪已下载剧集的更新状态，简化追剧流程。

### 项目背景

用户需要手动去 TMDB 查看剧集更新状态，操作繁琐且容易错过更新。通过 Emby 剧集关注功能，用户可以自动监控已下载剧集的更新，及时获得提醒。

---

## 功能需求

### 1. 剧集搜索功能

#### 功能描述

在用户的 Emby 媒体库中搜索剧集，支持按名称、类型、状态等条件搜索。

#### 具体需求

- 支持按剧集名称搜索
- 支持按类型筛选（剧集、电影、音乐）
- 支持按状态筛选（正在追、已完结、暂停追）
- 支持模糊搜索和精确搜索
- 搜索结果分页显示

#### 技术要求

- 数据来源：Emby API
- 搜索响应时间：< 2 秒
- 支持实时搜索（输入时即时显示结果）

#### 数据结构

```typescript
interface EmbySearchResult {
  id: string
  name: string
  type: 'Series' | 'Movie' | 'Audio'
  status: 'following' | 'completed' | 'paused' | 'not_followed'
  posterPath?: string
  backdropPath?: string
  overview?: string
  releaseYear?: number
  totalSeasons?: number
  totalEpisodes?: number
  lastWatchedEpisode?: number
  watchProgress: number
  downloadStatus: 'downloaded' | 'downloading' | 'not_downloaded'
}
```

---

### 2. 关注管理功能

#### 功能描述

管理用户关注的剧集，包括添加关注、编辑关注状态、取消关注等操作。

#### 具体需求

- 添加剧集到关注列表
- 设置关注状态（正在追、已完结、暂停追）
- 设置关注优先级（高、中、低）
- 编辑关注设置
- 取消关注
- 批量管理关注

#### 关注状态定义

- **正在追**: 用户正在追看的剧集
- **已完结**: 用户已看完的剧集
- **暂停追**: 用户暂时停止追看的剧集
- **未关注**: 用户未关注的剧集

#### 优先级定义

- **高**: 用户最关心的剧集，优先提醒
- **中**: 一般关心的剧集，正常提醒
- **低**: 偶尔关注的剧集，减少提醒

---

### 3. 关注列表展示

#### 功能描述

以清晰的方式展示用户关注的所有剧集，包括状态、进度、更新信息等。

#### 具体需求

- 按状态分组显示（正在追、已完结、暂停追）
- 显示剧集基本信息（名称、海报、简介）
- 显示观看进度和状态
- 显示下载状态
- 支持排序和筛选
- 支持搜索关注列表

#### 展示信息

- 剧集名称和海报
- 关注状态和优先级
- 观看进度（已看集数/总集数）
- 下载状态
- 最后观看时间
- 关注时间

---

### 4. 更新提醒功能

#### 功能描述

基于用户关注的剧集，提供智能的更新提醒服务。

#### 具体需求

- 检测新剧集发布
- 检测剧集状态变更
- 提供多种提醒方式
- 支持提醒设置自定义

#### 提醒内容

- 新剧集发布提醒
- 剧集状态变更提醒
- 观看进度提醒
- 下载完成提醒

#### 提醒方式

- 网页内通知
- 邮件通知（可选）
- 浏览器推送通知

---

### 5. 设置管理功能

#### 功能描述

管理关注功能的各项设置，包括提醒方式、频率、内容等。

#### 具体需求

- 提醒方式设置
- 提醒频率设置
- 提醒内容设置
- 通知时间设置
- 个人偏好设置

---

## 非功能需求

### 性能要求

- 页面加载时间：< 3 秒
- 搜索响应时间：< 2 秒
- 支持 1000+关注项目的快速加载

### 兼容性要求

- 支持 Emby 4.x 版本
- 支持主流浏览器
- 响应式设计，支持桌面和移动端

### 可用性要求

- 界面简洁清晰，操作简单
- 信息层次分明，易于理解
- 支持键盘快捷键操作

---

## 技术实现

### 技术栈

- 前端框架：Vue 3 + TypeScript
- UI 组件库：Element Plus
- 状态管理：Pinia
- HTTP 客户端：Axios

### 数据来源

- Emby API：获取媒体库信息
- 本地存储：用户关注列表和设置
- TMDB API：获取补充信息（可选）

### 核心功能模块

- 搜索模块：Emby 剧集搜索
- 关注模块：关注状态管理
- 列表模块：关注列表展示
- 提醒模块：更新提醒服务
- 设置模块：功能配置管理

---

## 用户界面设计

### 整体布局

- 顶部：搜索栏和功能按钮
- 左侧：关注状态分类导航
- 主区域：关注列表展示
- 右侧：剧集详情和设置面板

### 设计原则

- 简洁明了：信息展示清晰，操作简单
- 层次分明：重要信息突出，次要信息适当弱化
- 响应式：适配不同屏幕尺寸
- 一致性：与 Emby 界面风格保持一致

---

## 开发计划

### 第一阶段（1-2 周）

- 基础搜索功能
- 关注管理功能
- 关注列表展示

### 第二阶段（2-3 周）

- 更新提醒功能
- 设置管理功能
- 界面优化

### 第三阶段（3-4 周）

- 性能优化
- 测试和部署
- 用户反馈收集

---

## 验收标准

### 功能验收

- 搜索功能正常工作
- 关注管理功能完整
- 列表展示信息准确
- 提醒功能及时有效

### 性能验收

- 页面加载时间符合要求
- 搜索响应时间符合要求
- 大量数据下性能稳定

### 用户体验验收

- 界面简洁美观
- 操作简单直观
- 信息展示清晰
- 响应及时准确
